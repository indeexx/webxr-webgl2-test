<!--babylon-webxr/index.html--><!DOCTYPE html><html><head><meta charset="UTF-8"/><meta name="viewport"content="width=device-width, initial-scale=1.0"/><meta http-equiv="origin-trial"content="Ato09Kwo1q5bGWV5TsBKYESoSL5GyMltMajbmXC7O+qQethuOCZu2XfKDt2bFaYWqyjbWdRQjVXSJm1RyAdsYwEAAABfeyJvcmlnaW4iOiJodHRwczovL2h1bmdraW5nLm9yZzo0NDMiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZX0="/><title>WebXR with indeex</title><script src="./lib/babylon.min.js"></script><script src="./lib/babylonjs.loaders.min.js"></script><script src="./lib/pep.js"></script><style>html,body{overflow:hidden;width:100%;height:100%;margin:0;padding:0;box-sizing:border-box}#canvas{width:100%;height:100%;touch-action:none}</style></head><body><canvas id="canvas"></canvas><script>var tips;var canvas=document.getElementById('canvas');var engine,scene,sceneToRender;var createDefaultEngine=function(){return new BABYLON.Engine(canvas,true,{preserveDrawingBuffer:true,stencil:true})};var createScene=async function(){var scene=new BABYLON.Scene(engine);var camera=new BABYLON.FreeCamera('camera-1',new BABYLON.Vector3(0,5,-10),scene);camera.setTarget(BABYLON.Vector3.Zero());camera.attachControl(canvas,true);var light=new BABYLON.HemisphericLight('light-1',new BABYLON.Vector3(0,1,0),scene);light.intensity=0.5;var sphere=BABYLON.MeshBuilder.CreateSphere('sphere-1',{diameter:2,segments:32},scene);sphere.position.y=1;scene.createDefaultEnvironment();var xrHelper=await scene.createDefaultXRExperienceAsync();if(!xrHelper.baseExperience){console.log('WebXR support is unavailable')}else{return scene}};engine=createDefaultEngine();if(!engine){throw'Engine should not be null';}scene=createScene();scene.then(function(returnedScene){sceneToRender=returnedScene});engine.runRenderLoop(function(){if(sceneToRender){sceneToRender.render()}});window.addEventListener('resize',function(){engine.resize()});toast("欢迎使用XR设备体验测试",90000000);setInterval(function(){if(tips){tips.style.color=color(1)}},800);function color(alpha){if(alpha>=0&&alpha<=1){}else alpha=1;var r=Math.floor(Math.random()*255);var g=Math.floor(Math.random()*255);var b=Math.floor(Math.random()*255);return'rgba('+r+','+g+','+b+','+alpha+')'};function toast(msg,t){if(tips)return;tips=document.createElement("div");tips.innerText=msg||"提示...";tips.style.position="fixed";tips.style.padding="0.6rem 0.8rem";tips.style.minWidth="80%";tips.style.fontSize="1rem";tips.style.textAlign="center";tips.style.backgroundColor="rgba(255,255,255,1)";tips.style.color="#000000";tips.style.borderRadius="0.1rem";tips.style.top="1rem";tips.style.left="50%";tips.style.transform="translateX(-50%)";tips.style.zIndex=99999;document.body.appendChild(tips);var tim=setTimeout(function(){document.body.removeChild(tips);tips=null;clearTimeout(tim)},t||3000)}</script></body></html>
